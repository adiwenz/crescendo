name: crescendo_mobile
description: Offline-first Crescendo warmup and pitch analysis app.
publish_to: "none"
version: 0.1.0+2

environment:
  sdk: ">=3.2.0 <4.0.0"

dependencies:
  flutter:
    sdk: flutter
  record: ^5.0.5
  permission_handler: ^11.3.0
  wakelock_plus: ^1.2.4
  audioplayers: ^6.0.0
  path_provider: ^2.1.2
  sqflite: ^2.3.0
  path: ^1.8.3
  collection: ^1.18.0
  shared_preferences: ^2.2.3
  audio_session: ^0.1.16
  wav: ^1.2.1
  pitch_detector_dart: ^0.0.7
  google_fonts: ^6.1.0
  crypto: ^3.0.3
  get_it: ^9.2.0
  timezone: ^0.9.2
  logger: ^2.0.0
  flutter_sound: ^9.30.0

dev_dependencies:
  flutter_test:
    sdk: flutter
  integration_test:
    sdk: flutter
  flutter_midi_pro: ^1.0.6
  
  one_clock_audio:
    path: packages/one_clock_audio
  flutter_lints: ^3.0.0
  sqflite_common_ffi: ^2.3.0
  flutter_launcher_icons: ^0.13.1
  flutter_native_splash: ^2.4.0

flutter:
  uses-material-design: true
  assets:
    - assets/
    - assets/audio/piano/
    - assets/audio/previews/
    - assets/audio/exercises/
    - assets/generated/exercise_xmap/
    - assets/audio/reference.wav
    - assets/audio/backing.wav

flutter_launcher_icons:
  image_path: "assets/purple_logo.png"
  remove_alpha_ios: true
  android: "launcher_icon"
  adaptive_icon_foreground: "assets/android_foreground.png"
  adaptive_icon_background: "assets/splash_background.png"
  ios: true
  web:
    generate: true
  macos:
    generate: true
  windows:
    generate: true
  linux:
    generate: true

flutter_native_splash:
  image: assets/splash.png
  image_dark: assets/splash.png
  # We can't do a gradient natively easily without a background image, 
  # so we pick the top color or a solid approximation. 
  # Actually, the user wants the generated image which IS the splash screen.
  # So we should set the background image (image) to fill the screen?
  # No, `image` is the center icon. `background_image` is the background.
  # But the generated image is the WHOLE screen (gradient + icon).
  # So we should use `background_image` instead of `color` + `image`.
  # Let's retry the config below.

  # Since the generated image has the gradient AND the icon embedded:
  background_image: "assets/splash_background.png"
  
  # For dark mode, we might want a different one, but usually splash is consistent.
  # Use the same one for now to match the user request.
  background_image_dark: "assets/splash_background.png"

  android_12:
    # Android 12+ uses the icon + background color
    # We can't fully enforce the gradient background image on Android 12 launch API easily
    # without window background hacks.
    # Best effort: use the top color and the center icon if we had it separate.
    # Since we only have the full image, let's try setting the background color 
    # and maybe the image as the "branded icon".
    # Actually, Android 12 splashes are constrained.
    # Safe bet for now: Use the generated image as background_image for iOS/Old Android.
    # For Android 12, let's use the image as the icon and the color as background.
    image: assets/splash.png
    background_image: "assets/splash_background.png"
  
  web: false
